import { LitElement, css, customElement, html, property } from 'lit-element';
import { ifDefined } from 'lit-html/directives/if-defined';
import './at-dropdown';

@customElement('my-app')
export class MyApp extends LitElement {
	@property({ type: Array }) availableLicences = [
		{
			licence: {
				id: 1956,
				subscriptionId: 1150,
				stripeScheduleId: null,
				scheduledAllowedQty: null,
				allowedQty: 10,
				remainingQty: 8,
				creationDate: '2021-04-06T16:09:49.665Z',
				updateDate: '2021-06-30T12:10:45.857Z',
				plan: {
					id: 19,
					type: 'APP',
					stripePlanId: 'price_1Gx9kyFnQ418zSXhFpRxBoL8',
					name: 'app-pro-yearly-eur',
					billingInterval: 'YEAR',
					currency: 'EUR',
					subtype: 'PRO',
					status: 'ACTIVE',
					price: 950,
					displayOrder: 2,
					creationDate: '2020-06-23T11:20:53.362Z',
					updateDate: '2020-06-23T11:20:53.362Z',
				},
			},
			customer: {
				id: 1374,
				type: 'TEAM',
				featureFlags: null,
				settings: null,
				billingAddressLine1: '5 rue dupont',
				billingAddressLine2: '',
				billingAddressPostalCode: '75000',
				billingAddressCity: 'PARIS',
				billingAddressState: '',
				billingAddressCountry: 'FR',
				stripeCustomerId: 'cus_JFn3t01fBO22MV',
				name: 'mathieu.moullec@revevol.eu',
				vatNumber: '',
				vatNumberType: '',
				contactName: null,
				contactEmail: 'mathieu.moullec@revevol.eu',
				contactPhone: null,
				allowedOverusage: 0,
				cardLastDigits: '4242',
				cardType: 'visa',
				cardExpMonth: 12,
				cardExpYear: 2022,
				creationDate: '2021-04-06T16:09:49.224Z',
				updateDate: '2021-04-06T17:09:05.369Z',
				isAdmin: true,
				teamName: 'new team',
			},
			subscription: {
				sub: {
					id: 1150,
					discount: 0,
					taxRate: null,
					subscriptionDate: '2021-04-06T16:09:43.000Z',
					renewPeriod: 'YEAR',
					startDate: '2021-04-06T16:09:43.000Z',
					endDate: '2022-04-06T16:09:43.000Z',
					status: 'ACTIVE',
					source: 'ONLINE',
					customerId: 1374,
					amount: '37140',
					currency: 'EUR',
					stripeSubscriptionId: 'sub_JFn3RGZi286Aqr',
					autoRenew: true,
					creationDate: '2021-04-06T16:09:49.545Z',
					updateDate: '2021-04-06T16:09:51.364Z',
					licences: [
						{
							id: 1958,
							subscriptionId: 1150,
							stripeScheduleId: null,
							scheduledAllowedQty: null,
							allowedQty: 10,
							remainingQty: 7,
							creationDate: '2021-04-06T16:09:49.745Z',
							updateDate: '2021-06-14T15:02:28.178Z',
							plan: {
								id: 15,
								type: 'APP',
								stripePlanId: 'price_1Gx9n2FnQ418zSXhvWAtih5L',
								name: 'app-plus-yearly-eur',
								billingInterval: 'YEAR',
								currency: 'EUR',
								subtype: 'PLUS',
								status: 'ACTIVE',
								price: 374,
								displayOrder: 1,
								creationDate: '2020-06-23T11:20:53.362Z',
								updateDate: '2020-06-23T11:20:53.362Z',
							},
						},
						{
							id: 1957,
							subscriptionId: 1150,
							stripeScheduleId: null,
							scheduledAllowedQty: null,
							allowedQty: 10,
							remainingQty: 10,
							creationDate: '2021-04-06T16:09:49.740Z',
							updateDate: '2021-06-17T08:44:35.857Z',
							plan: {
								id: 23,
								type: 'APP',
								stripePlanId: 'price_1Gx9eTFnQ418zSXhy34Zbz5M',
								name: 'app-premium-yearly-eur',
								billingInterval: 'YEAR',
								currency: 'EUR',
								subtype: 'PREMIUM',
								status: 'ACTIVE',
								price: 2390,
								displayOrder: 3,
								creationDate: '2020-06-23T11:20:53.362Z',
								updateDate: '2020-06-23T11:20:53.362Z',
							},
						},
						{
							id: 1956,
							subscriptionId: 1150,
							stripeScheduleId: null,
							scheduledAllowedQty: null,
							allowedQty: 10,
							remainingQty: 8,
							creationDate: '2021-04-06T16:09:49.665Z',
							updateDate: '2021-06-30T12:10:45.857Z',
							plan: {
								id: 19,
								type: 'APP',
								stripePlanId: 'price_1Gx9kyFnQ418zSXhFpRxBoL8',
								name: 'app-pro-yearly-eur',
								billingInterval: 'YEAR',
								currency: 'EUR',
								subtype: 'PRO',
								status: 'ACTIVE',
								price: 950,
								displayOrder: 2,
								creationDate: '2020-06-23T11:20:53.362Z',
								updateDate: '2020-06-23T11:20:53.362Z',
							},
						},
					],
				},
				customer: {
					id: 1374,
					type: 'TEAM',
					featureFlags: null,
					settings: null,
					billingAddressLine1: '5 rue dupont',
					billingAddressLine2: '',
					billingAddressPostalCode: '75000',
					billingAddressCity: 'PARIS',
					billingAddressState: '',
					billingAddressCountry: 'FR',
					stripeCustomerId: 'cus_JFn3t01fBO22MV',
					name: 'mathieu.moullec@revevol.eu',
					vatNumber: '',
					vatNumberType: '',
					contactName: null,
					contactEmail: 'mathieu.moullec@revevol.eu',
					contactPhone: null,
					allowedOverusage: 0,
					cardLastDigits: '4242',
					cardType: 'visa',
					cardExpMonth: 12,
					cardExpYear: 2022,
					creationDate: '2021-04-06T16:09:49.224Z',
					updateDate: '2021-04-06T17:09:05.369Z',
					isAdmin: true,
					teamName: 'new team',
				},
			},
		},
		{
			licence: {
				id: 1957,
				subscriptionId: 1150,
				stripeScheduleId: null,
				scheduledAllowedQty: null,
				allowedQty: 10,
				remainingQty: 10,
				creationDate: '2021-04-06T16:09:49.740Z',
				updateDate: '2021-06-17T08:44:35.857Z',
				plan: {
					id: 23,
					type: 'APP',
					stripePlanId: 'price_1Gx9eTFnQ418zSXhy34Zbz5M',
					name: 'app-premium-yearly-eur',
					billingInterval: 'YEAR',
					currency: 'EUR',
					subtype: 'PREMIUM',
					status: 'ACTIVE',
					price: 2390,
					displayOrder: 3,
					creationDate: '2020-06-23T11:20:53.362Z',
					updateDate: '2020-06-23T11:20:53.362Z',
				},
			},
			customer: {
				id: 1374,
				type: 'TEAM',
				featureFlags: null,
				settings: null,
				billingAddressLine1: '5 rue dupont',
				billingAddressLine2: '',
				billingAddressPostalCode: '75000',
				billingAddressCity: 'PARIS',
				billingAddressState: '',
				billingAddressCountry: 'FR',
				stripeCustomerId: 'cus_JFn3t01fBO22MV',
				name: 'mathieu.moullec@revevol.eu',
				vatNumber: '',
				vatNumberType: '',
				contactName: null,
				contactEmail: 'mathieu.moullec@revevol.eu',
				contactPhone: null,
				allowedOverusage: 0,
				cardLastDigits: '4242',
				cardType: 'visa',
				cardExpMonth: 12,
				cardExpYear: 2022,
				creationDate: '2021-04-06T16:09:49.224Z',
				updateDate: '2021-04-06T17:09:05.369Z',
				isAdmin: true,
				teamName: 'new team',
			},
			subscription: {
				sub: {
					id: 1150,
					discount: 0,
					taxRate: null,
					subscriptionDate: '2021-04-06T16:09:43.000Z',
					renewPeriod: 'YEAR',
					startDate: '2021-04-06T16:09:43.000Z',
					endDate: '2022-04-06T16:09:43.000Z',
					status: 'ACTIVE',
					source: 'ONLINE',
					customerId: 1374,
					amount: '37140',
					currency: 'EUR',
					stripeSubscriptionId: 'sub_JFn3RGZi286Aqr',
					autoRenew: true,
					creationDate: '2021-04-06T16:09:49.545Z',
					updateDate: '2021-04-06T16:09:51.364Z',
					licences: [
						{
							id: 1958,
							subscriptionId: 1150,
							stripeScheduleId: null,
							scheduledAllowedQty: null,
							allowedQty: 10,
							remainingQty: 7,
							creationDate: '2021-04-06T16:09:49.745Z',
							updateDate: '2021-06-14T15:02:28.178Z',
							plan: {
								id: 15,
								type: 'APP',
								stripePlanId: 'price_1Gx9n2FnQ418zSXhvWAtih5L',
								name: 'app-plus-yearly-eur',
								billingInterval: 'YEAR',
								currency: 'EUR',
								subtype: 'PLUS',
								status: 'ACTIVE',
								price: 374,
								displayOrder: 1,
								creationDate: '2020-06-23T11:20:53.362Z',
								updateDate: '2020-06-23T11:20:53.362Z',
							},
						},
						{
							id: 1957,
							subscriptionId: 1150,
							stripeScheduleId: null,
							scheduledAllowedQty: null,
							allowedQty: 10,
							remainingQty: 10,
							creationDate: '2021-04-06T16:09:49.740Z',
							updateDate: '2021-06-17T08:44:35.857Z',
							plan: {
								id: 23,
								type: 'APP',
								stripePlanId: 'price_1Gx9eTFnQ418zSXhy34Zbz5M',
								name: 'app-premium-yearly-eur',
								billingInterval: 'YEAR',
								currency: 'EUR',
								subtype: 'PREMIUM',
								status: 'ACTIVE',
								price: 2390,
								displayOrder: 3,
								creationDate: '2020-06-23T11:20:53.362Z',
								updateDate: '2020-06-23T11:20:53.362Z',
							},
						},
						{
							id: 1956,
							subscriptionId: 1150,
							stripeScheduleId: null,
							scheduledAllowedQty: null,
							allowedQty: 10,
							remainingQty: 8,
							creationDate: '2021-04-06T16:09:49.665Z',
							updateDate: '2021-06-30T12:10:45.857Z',
							plan: {
								id: 19,
								type: 'APP',
								stripePlanId: 'price_1Gx9kyFnQ418zSXhFpRxBoL8',
								name: 'app-pro-yearly-eur',
								billingInterval: 'YEAR',
								currency: 'EUR',
								subtype: 'PRO',
								status: 'ACTIVE',
								price: 950,
								displayOrder: 2,
								creationDate: '2020-06-23T11:20:53.362Z',
								updateDate: '2020-06-23T11:20:53.362Z',
							},
						},
					],
				},
				customer: {
					id: 1374,
					type: 'TEAM',
					featureFlags: null,
					settings: null,
					billingAddressLine1: '5 rue dupont',
					billingAddressLine2: '',
					billingAddressPostalCode: '75000',
					billingAddressCity: 'PARIS',
					billingAddressState: '',
					billingAddressCountry: 'FR',
					stripeCustomerId: 'cus_JFn3t01fBO22MV',
					name: 'mathieu.moullec@revevol.eu',
					vatNumber: '',
					vatNumberType: '',
					contactName: null,
					contactEmail: 'mathieu.moullec@revevol.eu',
					contactPhone: null,
					allowedOverusage: 0,
					cardLastDigits: '4242',
					cardType: 'visa',
					cardExpMonth: 12,
					cardExpYear: 2022,
					creationDate: '2021-04-06T16:09:49.224Z',
					updateDate: '2021-04-06T17:09:05.369Z',
					isAdmin: true,
					teamName: 'new team',
				},
			},
		},
		{
			licence: {
				id: 1958,
				subscriptionId: 1150,
				stripeScheduleId: null,
				scheduledAllowedQty: null,
				allowedQty: 10,
				remainingQty: 7,
				creationDate: '2021-04-06T16:09:49.745Z',
				updateDate: '2021-06-14T15:02:28.178Z',
				plan: {
					id: 15,
					type: 'APP',
					stripePlanId: 'price_1Gx9n2FnQ418zSXhvWAtih5L',
					name: 'app-plus-yearly-eur',
					billingInterval: 'YEAR',
					currency: 'EUR',
					subtype: 'PLUS',
					status: 'ACTIVE',
					price: 374,
					displayOrder: 1,
					creationDate: '2020-06-23T11:20:53.362Z',
					updateDate: '2020-06-23T11:20:53.362Z',
				},
			},
			customer: {
				id: 1374,
				type: 'TEAM',
				featureFlags: null,
				settings: null,
				billingAddressLine1: '5 rue dupont',
				billingAddressLine2: '',
				billingAddressPostalCode: '75000',
				billingAddressCity: 'PARIS',
				billingAddressState: '',
				billingAddressCountry: 'FR',
				stripeCustomerId: 'cus_JFn3t01fBO22MV',
				name: 'mathieu.moullec@revevol.eu',
				vatNumber: '',
				vatNumberType: '',
				contactName: null,
				contactEmail: 'mathieu.moullec@revevol.eu',
				contactPhone: null,
				allowedOverusage: 0,
				cardLastDigits: '4242',
				cardType: 'visa',
				cardExpMonth: 12,
				cardExpYear: 2022,
				creationDate: '2021-04-06T16:09:49.224Z',
				updateDate: '2021-04-06T17:09:05.369Z',
				isAdmin: true,
				teamName: 'new team',
			},
			subscription: {
				sub: {
					id: 1150,
					discount: 0,
					taxRate: null,
					subscriptionDate: '2021-04-06T16:09:43.000Z',
					renewPeriod: 'YEAR',
					startDate: '2021-04-06T16:09:43.000Z',
					endDate: '2022-04-06T16:09:43.000Z',
					status: 'ACTIVE',
					source: 'ONLINE',
					customerId: 1374,
					amount: '37140',
					currency: 'EUR',
					stripeSubscriptionId: 'sub_JFn3RGZi286Aqr',
					autoRenew: true,
					creationDate: '2021-04-06T16:09:49.545Z',
					updateDate: '2021-04-06T16:09:51.364Z',
					licences: [
						{
							id: 1958,
							subscriptionId: 1150,
							stripeScheduleId: null,
							scheduledAllowedQty: null,
							allowedQty: 10,
							remainingQty: 7,
							creationDate: '2021-04-06T16:09:49.745Z',
							updateDate: '2021-06-14T15:02:28.178Z',
							plan: {
								id: 15,
								type: 'APP',
								stripePlanId: 'price_1Gx9n2FnQ418zSXhvWAtih5L',
								name: 'app-plus-yearly-eur',
								billingInterval: 'YEAR',
								currency: 'EUR',
								subtype: 'PLUS',
								status: 'ACTIVE',
								price: 374,
								displayOrder: 1,
								creationDate: '2020-06-23T11:20:53.362Z',
								updateDate: '2020-06-23T11:20:53.362Z',
							},
						},
						{
							id: 1957,
							subscriptionId: 1150,
							stripeScheduleId: null,
							scheduledAllowedQty: null,
							allowedQty: 10,
							remainingQty: 10,
							creationDate: '2021-04-06T16:09:49.740Z',
							updateDate: '2021-06-17T08:44:35.857Z',
							plan: {
								id: 23,
								type: 'APP',
								stripePlanId: 'price_1Gx9eTFnQ418zSXhy34Zbz5M',
								name: 'app-premium-yearly-eur',
								billingInterval: 'YEAR',
								currency: 'EUR',
								subtype: 'PREMIUM',
								status: 'ACTIVE',
								price: 2390,
								displayOrder: 3,
								creationDate: '2020-06-23T11:20:53.362Z',
								updateDate: '2020-06-23T11:20:53.362Z',
							},
						},
						{
							id: 1956,
							subscriptionId: 1150,
							stripeScheduleId: null,
							scheduledAllowedQty: null,
							allowedQty: 10,
							remainingQty: 8,
							creationDate: '2021-04-06T16:09:49.665Z',
							updateDate: '2021-06-30T12:10:45.857Z',
							plan: {
								id: 19,
								type: 'APP',
								stripePlanId: 'price_1Gx9kyFnQ418zSXhFpRxBoL8',
								name: 'app-pro-yearly-eur',
								billingInterval: 'YEAR',
								currency: 'EUR',
								subtype: 'PRO',
								status: 'ACTIVE',
								price: 950,
								displayOrder: 2,
								creationDate: '2020-06-23T11:20:53.362Z',
								updateDate: '2020-06-23T11:20:53.362Z',
							},
						},
					],
				},
				customer: {
					id: 1374,
					type: 'TEAM',
					featureFlags: null,
					settings: null,
					billingAddressLine1: '5 rue dupont',
					billingAddressLine2: '',
					billingAddressPostalCode: '75000',
					billingAddressCity: 'PARIS',
					billingAddressState: '',
					billingAddressCountry: 'FR',
					stripeCustomerId: 'cus_JFn3t01fBO22MV',
					name: 'mathieu.moullec@revevol.eu',
					vatNumber: '',
					vatNumberType: '',
					contactName: null,
					contactEmail: 'mathieu.moullec@revevol.eu',
					contactPhone: null,
					allowedOverusage: 0,
					cardLastDigits: '4242',
					cardType: 'visa',
					cardExpMonth: 12,
					cardExpYear: 2022,
					creationDate: '2021-04-06T16:09:49.224Z',
					updateDate: '2021-04-06T17:09:05.369Z',
					isAdmin: true,
					teamName: 'new team',
				},
			},
		},
	];

	static styles = css``;
	render() {
		return html`
			<div>Hello<button>TEst</button><a href="google.com">TEST 2</a></div>
			<select>
				<option>One</option>
			</select>
			<div>KK ll lks c</div>

			<at-dropdown
				@on-change=${console.log}
				selected=${ifDefined(this.availableLicences[1].licence.id)}
				.list="${[
					{ id: -1, title: html`Free`, twoLines: false, item: 'free' },
					...this.availableLicences.map((l) => ({
						id: l.licence.id,
						title: html`
							<div>${l.licence.plan.subtype} (${l.customer.name ?? l.customer.teamName})</div>
							<div secondary>${l.customer.type} ${l.licence.id}</div>
						`,
						twoLines: true,
						item: l,
					})),
				]}"
			></at-dropdown>
		`;
	}
}

declare global {
	interface HTMLElementTagNameMap {
		'my-app': MyApp;
	}
}
